<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Performance Consideration :: Advanced Deployment of AAP 2.5</title>
    <link rel="prev" href="section5.html">
    <link rel="next" href="section7.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Advanced Deployment of AAP 2.5</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/advanced-deployment-aap25/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="advanced-deployment-aap25" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Advanced Deployment of AAP 2.5</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Advanced Deployment of Ansible Automation Platform 2.5</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section1.html">Automation Mesh</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section2.html">Automation Mesh Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section3.html">Automation Mesh Hands-on Lab</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section4.html">Calculate the Sizing Requirement for RPM and Containerized Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section5.html">Example on Calculating the Size</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="section6.html">Performance Consideration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section7.html">Troubleshooting Ansible Automation Platform Installation Issue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section8.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Advanced Deployment of AAP 2.5</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Advanced Deployment of AAP 2.5</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Advanced Deployment of AAP 2.5</a></li>
    <li><a href="index.html">Advanced Deployment of Ansible Automation Platform 2.5</a></li>
    <li><a href="section6.html">Performance Consideration</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Performance Consideration</h1>
<div class="paragraph">
<p>Now from the previous information, you have got a very brief idea about the deployment and calculating the sizing requirement. Where as there are Few tips that will help you better plan the deployment for the Control and Execution plane:</p>
</div>
<div class="paragraph">
<p>The Default Parameters that do not need to be changed unless needed and you know the exact value it needs to be changed to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Facts size per host is Default 50 kb.</p>
</li>
<li>
<p>Size per event is 2 kb.</p>
</li>
<li>
<p>Events per tasks = 10.</p>
</li>
<li>
<p>Memory for 1 fork = 100mb.</p>
</li>
<li>
<p>1 CPU provides 4 forks.</p>
</li>
<li>
<p>Capacity Adjustment by default set 1.0 i.e. take a max of RAM and CPU capacity.</p>
</li>
<li>
<p>In Execution Environment average Size is approximately 450 MB, and the rest varies from environment to environment.</p>
</li>
<li>
<p>The Automation Controller processes 400 events/s, based on engineering performance benchmarks using the minimum sizing configuration under load.</p>
</li>
<li>
<p>Automation Controller RAM per event fork  is 10 kb.</p>
</li>
<li>
<p>Automation Controller CPU per event fork 0.0001.</p>
</li>
<li>
<p>Concurrent API calls per controller is 100 by default and it can reach up to 300 calls.</p>
</li>
<li>
<p>Controller/execution base Job capacity for every job run in unit is 1.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The factors that will depend across different customers and environments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Number of Ansible Managed hosts/nodes.</p>
</li>
<li>
<p>Number of jobs per host per day.</p>
</li>
<li>
<p>Tasks run per playbook or job including the imported roles/tasks/playbooks.</p>
</li>
<li>
<p>Jobs are running for a specific time-period or 24X7.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Few formulas for assistance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">Total Jobs = (Number of Hosts × Jobs per Host per Day) ÷ Hosts Required per Job

Job Duration = Job Duration per Host × CEILING(Hosts per Job ÷ Parallel Forks)

Workload Utilization = (Jobs per Day × Job Duration) ÷  Automation Hours per Day

Polling Load = (Jobs per Day × Job Duration) ÷ Polling Interval

API Utilization = (API Calls per Day × API Call Duration) ÷ Automation Hours per Day

Database size for facts  = Facts size of hosts * number of hosts / 1024

Database size for Inventory will be similar to size of database facts.

Database size for jobs = number of hosts * jobs per host per data * Number of days to keep the data * Number of events * event  size / 1024</code></pre>
</div>
</div>
<div class="paragraph">
<p>Database RAM and CPU should be something similar to the RAM and CPU or control plane or  execution plane whichever is higher.</p>
</div>
<nav class="pagination">
  <span class="prev"><a href="section5.html">Example on Calculating the Size</a></span>
  <span class="next"><a href="section7.html">Troubleshooting Ansible Automation Platform Installation Issue</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
